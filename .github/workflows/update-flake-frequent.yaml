name: "Update Flake Inputs (Frequent)"

on:
  schedule:
    - cron: "0 */3 * * *"
  workflow_dispatch:

jobs:
  update:
    uses: ./.github/workflows/_update-flake-reusable.yaml
    with:
      inputs: "llm-agents"
      skip-delay: true
      minimum-release-age-days: "0"
    secrets:
      app-id: ${{ secrets.FLAKE_UPDATER_APP_ID }}
      private-key: ${{ secrets.FLAKE_UPDATER_APP_PRIVATE_KEY }}
      cachix-auth-token: ${{ secrets.CACHIX_AUTH_TOKEN }}
